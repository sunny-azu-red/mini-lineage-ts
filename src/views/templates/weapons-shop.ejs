<% if (alertHtml) { %>
    <div class="alert alert-success"><%- alertHtml %></div>
<% } %>

<p>
    You have arrived at the Weapons Shop.<br>
    The nice man greets you and lets you look through his swords.
</p>

<table class="data-table">
    <thead>
        <tr>
            <th>Name</th>
            <th>Physical Attack</th>
            <th>Adena</th>
        </tr>
    </thead>
    <tbody>
        <% weapons.forEach(function(weapon) { %>
            <tr>
                <td><%= weapon.emoji %> <%= weapon.name %></td>
                <td><%= weapon.stat %></td>
                <td class="gold"><%= weapon.costFormatted %></td>
            </tr>
        <% }); %>
    </tbody>
</table>

<form method="POST" action="/shop/weapons">
    <div class="form-row">
        <select class="form-select" name="select_weapon" id="weapon-select">
            <option value="">ðŸšª Home Town</option>
            <% selectWeapons.forEach(function(w) { %>
                <option value="<%= w.id %>">Pick <%= w.emoji %> <%= w.name %></option>
            <% }); %>
        </select>
        <button type="submit" class="btn" id="weapon-btn">Travel</button>
    </div>
</form>
<script>
    (function () {
        var sel = document.getElementById('weapon-select');
        var btn = document.getElementById('weapon-btn');
        sel.addEventListener('change', function () {
            btn.textContent = sel.value === '' ? 'Travel' : 'ðŸª™ Purchase';
        });
    })();
</script>